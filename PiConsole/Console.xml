<?xml version="1.0" encoding="utf-8" ?>

<scope
	xmlns="http://metalx.org/Program"
	xmlns:cpu="http://metalx.org/Arm/Arm7/Operators">
		
	<label id="loop"/>
	
	<cpu:BranchToRelative ref="System.TurnOnLed" SetReturnAddress="true"/>
	
	<!--Wait-->
	<cpu:ImmediateData Operation="CopyOperand" Operand="0" Destination="1"/>
	<cpu:ImmediateData Operation="OrRegisterWithOperand" Register="1" Operand="0" Rotate="0" Destination="1"/>
	<cpu:ImmediateData Operation="OrRegisterWithOperand" Register="1" Operand="0" Rotate="12" Destination="1"/>
	<cpu:ImmediateData Operation="OrRegisterWithOperand" Register="1" Operand="0" Rotate="8" Destination="1"/>
	<cpu:ImmediateData Operation="OrRegisterWithOperand" Register="1" Operand="1" Rotate="4" Destination="1"/>
	
	<label id="wait"/>
	
	<cpu:ImmediateData Operation="SubtractOperandFromRegister" Register="1" Operand="1" Rotate="0" Destination="1" SetFlags="true"/>
	
	<cpu:BranchToRelative Condition="NotEqual" ref="wait"/>

	<!--Turn Off LED-->
	<cpu:BranchToRelative ref="System.TurnOffLed" SetReturnAddress="true"/>

	<!--Wait-->
	<cpu:ImmediateData Operation="CopyOperand" Operand="0" Destination="1"/>
	<cpu:ImmediateData Operation="OrRegisterWithOperand" Register="1" Operand="0" Rotate="0" Destination="1"/>
	<cpu:ImmediateData Operation="OrRegisterWithOperand" Register="1" Operand="0" Rotate="12" Destination="1"/>
	<cpu:ImmediateData Operation="OrRegisterWithOperand" Register="1" Operand="0" Rotate="8" Destination="1"/>
	<cpu:ImmediateData Operation="OrRegisterWithOperand" Register="1" Operand="1" Rotate="4" Destination="1"/>
	
	<label id="wait2"/>
	
	<cpu:ImmediateData Operation="SubtractOperandFromRegister" Register="1" Operand="1" Rotate="0" Destination="1" SetFlags="true"/>
	
	<cpu:BranchToRelative Condition="NotEqual" ref="wait2"/>
	
	<cpu:BranchToRelative ref="loop"/>
</scope>